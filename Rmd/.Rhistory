TTL.N=sum(Prev.Int.N))
int.summary
int.summary$prop<-int.summary$Prev.Int.N/int.summary$TTL.N
int.summary
int.summary.2<-ddply(int.summary,.(ii_Clerk,cd_Date,ii_PreviousInterview),
summarize,
CUM.N=cumsum(Prev.Int.N))
int.summary.2
int.summary.2<-ddply(int.summary,.(ii_Clerk,ii_PreviousInterview),
summarize,
CUM.N=cumsum(Prev.Int.N))
int.summary.2
int.summary.2<-ddply(int.summary,.(ii_Clerk,ii_PreviousInterview),
transform,
CUM.N=cumsum(Prev.Int.N))
int.summary.2
int.summary<-ddply(data.stor,.(ii_Clerk,cd_Date,ii_PreviousInterview),
summarize,
Prev.Int.N=length(ii_PreviousInterview))
int.summary
int.summary.2<-ddply(int.summary,.(ii_Clerk,ii_PreviousInterview),
transform,
CUM.N=cumsum(Prev.Int.N))
int.summary.2
options(warn = 1,stringsAsFactors = FALSE)
.libPaths("D:/RPackages")
library(RODBC)
library(plyr)
dbhandle <- odbcDriverConnect("driver={SQL Server};Network Library=DBMSSOCN;SERVER=129.93.168.13, 1433;DATABASE=CreelData;UID=CreelEntryBot;PWD=1top:minnow")
data.stor<-sqlQuery(dbhandle, "
SELECT
vw_CombinedInterviewInfo.ii_cdUID,
vw_CombinedInterviewInfo.ii_Refused,
vw_CombinedInterviewInfo.ii_Clerk,
vw_CombinedInterviewInfo.ii_NumberAnglers,
vw_CombinedInterviewInfo.ii_AnglerType,
vw_CombinedInterviewInfo.ii_AnglerMethod,
vw_CombinedInterviewInfo.ii_SpeciesSought,
vw_CombinedInterviewInfo.ii_ZipCode,
vw_CombinedInterviewInfo.ii_PreviousInterview,
vw_CombinedInterviewInfo.ii_PreviousFishedHere,
tblCreelDates.cd_Date
FROM vw_CombinedInterviewInfo
INNER JOIN tblCreelDates
ON vw_CombinedInterviewInfo.ii_cdUID=tblCreelDates.cd_UID
WHERE ii_Clerk = 4004 OR
ii_Clerk = 4006")
## Remove any refusals
data.stor<-data.stor[data.stor$ii_Refused==0,]
data.stor$cd_Date[data.stor$cd_Date=="2019-04-19"]<-"2014-04-19"
int.summary<-ddply(data.stor,.(ii_Clerk,cd_Date,ii_PreviousInterview),
summarize,
Prev.Int.N=length(ii_PreviousInterview))
data.stor
int.summary
int.summary.2<-ddply(int.summary,.(ii_Clerk,ii_PreviousInterview),
transform,
CUM.N=cumsum(Prev.Int.N))
int.summary.2
int.summary.2<-ddply(int.summary,.(ii_Clerk,cd_Date,ii_PreviousInterview),
transform,
TTL.N=sum(Prev.Int.N))
int.summary.2
int.summary.2$prop<-int.summary.2$Prev.Int.N/int.summary.2$TTL.N
int.summary.2
int.summary.2$prop<-int.summary.2$Prev.Int.N/int.summary.2$TTL.N
int.summary.2
int.summary.2<-ddply(int.summary,.(ii_Clerk,cd_Date,ii_PreviousInterview),
transform,
TTL.N=sum(Prev.Int.N))
int.summary.2$Prev.Int.N
int.summary.2<-ddply(int.summary,.(ii_Clerk,cd_Date),
transform,
TTL.N=sum(Prev.Int.N))
int.summary.2$prop<-int.summary.2$Prev.Int.N/int.summary.2$TTL.N
int.summary.2
library(ggplot2)
ggplot(data=int.summary.2) +
geom_bar(aes(x=cd_Date,y=prop,fill=prop),position="stack",stat="identity") +
facet_wrap(~ii_Clerk) +
theme_bw()
ggplot(data=int.summary.2) +
geom_bar(aes(x=cd_Date,y=prop,fill=prop),position="stack",stat="identity") +
facet_wrap(~ii_Clerk,ncol=1) +
theme_bw()
data.stor$cd_Date<-as.Date(data.stor$cd_Date)
int.summary<-ddply(data.stor,.(ii_Clerk,cd_Date,ii_PreviousInterview),
summarize,
Prev.Int.N=length(ii_PreviousInterview))
int.summary.2<-ddply(int.summary,.(ii_Clerk,cd_Date),
transform,
TTL.N=sum(Prev.Int.N))
int.summary.2$prop<-int.summary.2$Prev.Int.N/int.summary.2$TTL.N
ggplot(data=int.summary.2) +
geom_bar(aes(x=cd_Date,y=prop,fill=prop),position="stack",stat="identity") +
facet_wrap(~ii_Clerk,ncol=1) +
theme_bw()
ggplot(data=int.summary.2[int.summary.2$ii_PreviousInterview=2]) +
geom_ribbon(aes(x=cd_Date,ymax=prop,ymin=0)) +
facet_wrap(~ii_Clerk,ncol=1) +
theme_bw()
ggplot(data=int.summary.2[int.summary.2$iiPreviousInterview==2,]) +
geom_ribbon(aes(x=cd_Date,ymax=prop,ymin=0)) +
facet_wrap(~ii_Clerk,ncol=1) +
theme_bw()
ggplot(data=int.summary.2[int.summary.2$ii_PreviousInterview==2,]) +
geom_ribbon(aes(x=cd_Date,ymax=prop,ymin=0)) +
facet_wrap(~ii_Clerk,ncol=1) +
theme_bw()
data.stor$ii_Clerk[data.stor$ii_Clerk==4004]<-"Branched Oak"
data.stor$ii_Clerk[data.stor$ii_Clerk==4006]<-"Pawnee"
int.summary<-ddply(data.stor,.(ii_Clerk,cd_Date,ii_PreviousInterview),
summarize,
Prev.Int.N=length(ii_PreviousInterview))
int.summary.2<-ddply(int.summary,.(ii_Clerk,cd_Date),
transform,
TTL.N=sum(Prev.Int.N))
int.summary.2$prop<-int.summary.2$Prev.Int.N/int.summary.2$TTL.N
ggplot(data=int.summary.2[int.summary.2$ii_PreviousInterview==2,]) +
geom_ribbon(aes(x=cd_Date,ymax=prop,ymin=0)) +
facet_wrap(~ii_Clerk,ncol=1) +
theme_bw()
head(data.stor)
int.summary.3<-ddply(data.stor,.(ii_Clerk,cd_Date,ii_PreviousFishedHere),
summarize,
Prev.Fish.N=length(ii_PreviousFishedHere))
int.summary.4<-ddply(int.summary.3,.(ii_Clerk,cd_Date),
transform,
TTL.N=sum(Prev.Fish.N))
int.summary.4$prop<-int.summary.4$Prev.Fish.N/int.summary.42$TTL.N
int.summary.4$prop<-int.summary.4$Prev.Fish.N/int.summary.4$TTL.N
int.summary.4
int.summary.4$prop.fish<-int.summary.4$Prev.Fish.N/int.summary.4$TTL.N
merge(int.summary.2,int.summary.4,by=c("ii_Clerk","cd_Date"),all=TRUE)
int.summary.3
int.all<-merge(int.summary.2,int.summary.4,by=c("ii_Clerk","cd_Date"),all=TRUE)
head(int.all)
int.all[int.all$ii_PreviousInterview==2,]
head(int.all[int.all$ii_PreviousInterview==2,])
int.summary<-ddply(data.stor,.(ii_Clerk,cd_Date,ii_PreviousInterview),
summarize,
Prev.Int.N=length(ii_PreviousInterview))
int.summary.2<-ddply(int.summary,.(ii_Clerk,cd_Date),
transform,
TTL.N=sum(Prev.Int.N))
int.summary.2$prop<-int.summary.2$Prev.Int.N/int.summary.2$TTL.N
ggplot(data=int.summary.2[int.summary.2$ii_PreviousInterview==2,]) +
geom_ribbon(aes(x=cd_Date,ymax=prop,ymin=0)) +
facet_wrap(~ii_Clerk,ncol=1) +
theme_bw()
int.summary.3<-ddply(data.stor,.(ii_Clerk,cd_Date,ii_PreviousFishedHere),
summarize,
Prev.Fish.N=length(ii_PreviousFishedHere))
int.summary.4<-ddply(int.summary.3,.(ii_Clerk,cd_Date),
transform,
TTL.N=sum(Prev.Fish.N))
int.summary.4$prop.fish<-int.summary.4$Prev.Fish.N/int.summary.4$TTL.N
int.all<-merge(int.summary.2,int.summary.4,by=c("ii_Clerk","cd_Date"),all=TRUE)
ggplot(data=int.summary.4[int.summary.4$ii_PreviousInterview==2,]) +
geom_ribbon(aes(x=cd_Date,ymax=prop.fish,ymin=0)) +
facet_wrap(~ii_Clerk,ncol=1) +
theme_bw()
ggplot(data=int.summary.4[int.summary.4$ii_PreviousFishedHere==2,]) +
geom_ribbon(aes(x=cd_Date,ymax=prop.fish,ymin=0)) +
facet_wrap(~ii_Clerk,ncol=1) +
theme_bw()
int.all<-merge(int.summary.2[,("ii_Clerk","cd_Date","prop")],int.summary.4[,("ii_Clerk","cd_Date","prop.fish")],
by=c("ii_Clerk","cd_Date"),all=TRUE)
int.all<-merge(int.summary.2[,("ii_Clerk","cd_Date","prop"),],
int.summary.4[,("ii_Clerk","cd_Date","prop.fish"),],
by=c("ii_Clerk","cd_Date"),all=TRUE)
int.summary.2[,("ii_Clerk","cd_Date","prop"),]
int.all<-merge(int.summary.2[,c("ii_Clerk","cd_Date","prop")],
int.summary.4[,c("ii_Clerk","cd_Date","prop.fish")],
by=c("ii_Clerk","cd_Date"),all=TRUE)
int.all
ggplot(data=int.all[int.all$ii_PreviousInterview==2,]) +
geom_ribbon(aes(x=cd_Date,ymax=prop,ymin=0),fill="red",alpha=0.5) +
geom_ribbon(aes(x=cd_Date,ymax=prop.fish,ymin=0),fill="blue",alpha=0.5) +
facet_wrap(~ii_Clerk,ncol=1) +
theme_bw()
int.all
int.all<-merge(int.summary.2[,c("ii_Clerk","cd_Date","prop","ii_PreviousInterview")],
int.summary.4[,c("ii_Clerk","cd_Date","prop.fish")],
by=c("ii_Clerk","cd_Date"),all=TRUE)
ggplot(data=int.all[int.all$ii_PreviousInterview==2,]) +
geom_ribbon(aes(x=cd_Date,ymax=prop,ymin=0),fill="red",alpha=0.5) +
geom_ribbon(aes(x=cd_Date,ymax=prop.fish,ymin=0),fill="blue",alpha=0.5) +
facet_wrap(~ii_Clerk,ncol=1) +
theme_bw()
ggplot(data=int.all[int.all$ii_PreviousInterview==2,]) +
geom_ribbon(aes(x=cd_Date,ymax=prop,ymin=0),fill="red",alpha=0.25) +
geom_ribbon(aes(x=cd_Date,ymax=prop.fish,ymin=0),fill="blue",alpha=0.25) +
facet_wrap(~ii_Clerk,ncol=1) +
theme_bw()
ggplot(data=int.all[int.all$ii_PreviousInterview==2,]) +
geom_ribbon(aes(x=cd_Date,ymax=prop,ymin=0),fill="red",alpha=0.25) +
facet_wrap(~ii_Clerk,ncol=1) +
theme_bw()
int.plot<-ggplot(data=int.all[int.all$ii_PreviousInterview==2,]) +
geom_ribbon(aes(x=cd_Date,ymax=prop,ymin=0),fill="red") +
facet_wrap(~ii_Clerk,ncol=1) +
theme_bw()
fish.plot<-ggplot(data=int.all[int.all$ii_PreviousInterview==2,]) +
geom_ribbon(aes(x=cd_Date,ymax=prop.fish,ymin=0),fill="blue") +
facet_wrap(~ii_Clerk,ncol=1) +
theme_bw()
library(gridExtra)
grid.arrange(int.plot,fish.plot,ncol=2)
int.plot<-ggplot(data=int.all[int.all$ii_PreviousInterview==2,]) +
geom_ribbon(aes(x=cd_Date,ymax=prop,ymin=0),fill="red") +
facet_wrap(~ii_Clerk,ncol=1) +
labs(title="Interviewed before") +
theme_bw()
fish.plot<-ggplot(data=int.all[int.all$ii_PreviousInterview==2,]) +
geom_ribbon(aes(x=cd_Date,ymax=prop.fish,ymin=0),fill="blue") +
facet_wrap(~ii_Clerk,ncol=1) +
labs(title="Fished before") +
theme_bw()
grid.arrange(int.plot,fish.plot,ncol=2)
int.summary.4
int.all<-merge(int.summary.2[int.summary.2$ii_PreviousInterview==2,c("ii_Clerk","cd_Date","prop")],
int.summary.4[int.summary.5$ii_PreviousFishedHere==2,c("ii_Clerk","cd_Date","prop.fish")],
by=c("ii_Clerk","cd_Date"),all=TRUE)
int.plot<-ggplot(data=int.all) +
geom_ribbon(aes(x=cd_Date,ymax=prop,ymin=0),fill="red") +
facet_wrap(~ii_Clerk,ncol=1) +
labs(title="Interviewed before") +
theme_bw()
fish.plot<-ggplot(data=int.all) +
geom_ribbon(aes(x=cd_Date,ymax=prop.fish,ymin=0),fill="blue") +
facet_wrap(~ii_Clerk,ncol=1) +
labs(title="Fished before") +
theme_bw()
grid.arrange(int.plot,fish.plot,ncol=2)
int.all<-merge(int.summary.2[int.summary.2$ii_PreviousInterview==2,c("ii_Clerk","cd_Date","prop")],
int.summary.4[int.summary.4$ii_PreviousFishedHere==2,c("ii_Clerk","cd_Date","prop.fish")],
by=c("ii_Clerk","cd_Date"),all=TRUE)
int.plot<-ggplot(data=int.all) +
geom_ribbon(aes(x=cd_Date,ymax=prop,ymin=0),fill="red") +
facet_wrap(~ii_Clerk,ncol=1) +
labs(title="Interviewed before") +
theme_bw()
fish.plot<-ggplot(data=int.all) +
geom_ribbon(aes(x=cd_Date,ymax=prop.fish,ymin=0),fill="blue") +
facet_wrap(~ii_Clerk,ncol=1) +
labs(title="Fished before") +
theme_bw()
grid.arrange(int.plot,fish.plot,ncol=2)
int.summary.3<-ddply(data.stor[data.stor$ii_PreviousInterview==2],.(ii_Clerk,cd_Date,ii_PreviousFishedHere),
summarize,
Prev.Fish.N=length(ii_PreviousFishedHere))
int.summary.4<-ddply(int.summary.3,.(ii_Clerk,cd_Date),
transform,
TTL.N=sum(Prev.Fish.N))
int.summary.3<-ddply(data.stor[data.stor$ii_PreviousInterview==2,],.(ii_Clerk,cd_Date,ii_PreviousFishedHere),
summarize,
Prev.Fish.N=length(ii_PreviousFishedHere))
int.summary.4<-ddply(int.summary.3,.(ii_Clerk,cd_Date),
transform,
TTL.N=sum(Prev.Fish.N))
int.summary.4
int.summary.3<-ddply(data.stor,.(ii_Clerk,cd_Date,ii_PreviousInterview,ii_PreviousFishedHere),
summarize,
Prev.Fish.N=length(ii_PreviousFishedHere))
int.summary.4<-ddply(int.summary.3,.(ii_Clerk,cd_Date),
transform,
TTL.N=sum(Prev.Fish.N))
head(int.summary.4)
int.summary.4$prop.fish<-int.summary.4$Prev.Fish.N/int.summary.4$TTL.N
int.all<-merge(int.summary.2[int.summary.2$ii_PreviousInterview==2,c("ii_Clerk","cd_Date","prop")],
int.summary.4[int.summary.4$ii_PreviousInterview==2 &
int.summary.4$ii_PreviousFishedHere==1,c("ii_Clerk","cd_Date","prop.fish")],
by=c("ii_Clerk","cd_Date"),all=TRUE)
int.plot<-ggplot(data=int.all) +
geom_ribbon(aes(x=cd_Date,ymax=prop,ymin=0),fill="red") +
facet_wrap(~ii_Clerk,ncol=1) +
labs(title="Interviewed before") +
theme_bw()
fish.plot<-ggplot(data=int.all) +
geom_ribbon(aes(x=cd_Date,ymax=prop.fish,ymin=0),fill="blue") +
facet_wrap(~ii_Clerk,ncol=1) +
labs(title="Fished before") +
theme_bw()
fish.plot
int.all<-merge(int.summary.2[int.summary.2$ii_PreviousInterview==2,c("ii_Clerk","cd_Date","prop")],
int.summary.4[int.summary.4$ii_PreviousInterview==2 &
int.summary.4$ii_PreviousFishedHere==1,c("ii_Clerk","cd_Date","prop.fish")],
by=c("ii_Clerk","cd_Date"),all=TRUE)
int.plot<-ggplot(data=int.all) +
geom_ribbon(aes(x=cd_Date,ymax=prop,ymin=0),fill="red") +
facet_wrap(~ii_Clerk,ncol=1) +
labs(title="Not Interviewed before") +
theme_bw()
fish.plot<-ggplot(data=int.all) +
geom_ribbon(aes(x=cd_Date,ymax=prop.fish,ymin=0),fill="blue") +
facet_wrap(~ii_Clerk,ncol=1) +
labs(title="Yes Fished before but not interviewed") +
theme_bw()
grid.arrange(int.plot,fish.plot,ncol=2)
int.all<-merge(int.summary.2[int.summary.2$ii_PreviousInterview==2,c("ii_Clerk","cd_Date","prop")],
int.summary.4[int.summary.4$ii_PreviousFishedHere==2,c("ii_Clerk","cd_Date","prop.fish")],
by=c("ii_Clerk","cd_Date"),all=TRUE)
int.plot<-ggplot(data=int.all) +
geom_ribbon(aes(x=cd_Date,ymax=prop,ymin=0),fill="red") +
facet_wrap(~ii_Clerk,ncol=1) +
labs(title="Not Interviewed before") +
theme_bw()
fish.plot<-ggplot(data=int.all) +
geom_ribbon(aes(x=cd_Date,ymax=prop.fish,ymin=0),fill="blue") +
facet_wrap(~ii_Clerk,ncol=1) +
labs(title="Yes Fished before but not interviewed") +
theme_bw()
grid.arrange(int.plot,fish.plot,ncol=2)
int.plot<-ggplot(data=int.all) +
geom_ribbon(aes(x=cd_Date,ymax=prop,ymin=0),fill="red") +
facet_wrap(~ii_Clerk,ncol=1) +
labs(title="Not Interviewed before") +
theme_bw()
fish.plot<-ggplot(data=int.all) +
geom_ribbon(aes(x=cd_Date,ymax=prop.fish,ymin=0),fill="blue") +
facet_wrap(~ii_Clerk,ncol=1) +
labs(title="Not fished here before") +
theme_bw()
grid.arrange(int.plot,fish.plot,ncol=2)
ggplot(data=int.summary.4[int.summary.4$ii_PreviousFishedHere==2,]) +
geom_ribbon(aes(x=cd_Date,ymax=prop.fish,ymin=0)) +
facet_wrap(~ii_Clerk,ncol=1) +
theme_bw()
grid.arrange(int.plot,fish.plot,ncol=2)
?runif
.libPaths("D:/RPackages")
set.seed(20140824)
foo.dat<-rbind(data.frame(group="A", x = runif(50), y=rnorm(50)),
data.frame(group="B", x = runif(50), y=rnorm(50))*10,
data.frame(group="C", x = runif(50), y=rnorm(50))*15)
data.frame(group="A", x = runif(50), y=rnorm(50))
data.frame(group="B", x = runif(50), y=rnorm(50))*10)
foo.dat<-rbind(data.frame(group="A", x = runif(50), y=rnorm(50)),
data.frame(group="B", x = runif(50), y=rnorm(50)*10),
data.frame(group="C", x = runif(50), y=rnorm(50)*15))
foo.dat
?rnorm
foo.dat<-rbind(data.frame(group="A", x = runif(50), y=rnorm(50)),
data.frame(group="B", x = runif(50), y=rnorm(50,mean=5)*10),
data.frame(group="C", x = runif(50), y=rnorm(50,mean=5)*15))
set.seed(20140824)
foo.dat<-rbind(data.frame(group="A", x = runif(50), y=rnorm(50)),
data.frame(group="B", x = runif(50), y=rnorm(50,mean=5)*10),
data.frame(group="C", x = runif(50), y=rnorm(50,mean=5)*15))
ggplot() +
geom_point(data=food.dat,aes(x=x,y=y,colour=group),size=4) +
facet_wrap(~group)
library(ggplot2)
ggplot() +
geom_point(data=food.dat,aes(x=x,y=y,colour=group),size=4) +
facet_wrap(~group) +
theme_bw()
ggplot() +
geom_point(data=foo.dat,aes(x=x,y=y,colour=group),size=4) +
facet_wrap(~group) +
theme_bw()
set.seed(20140824)
library(ggplot2)
# First make up some data with different values for y with different scales
foo.dat<-rbind(data.frame(group="A", x = runif(50,mean=5), y=rnorm(50)),
data.frame(group="B", x = runif(50), y=rnorm(50,mean=5)*10),
data.frame(group="C", x = runif(50), y=rnorm(50,mean=5)*15))
## Plot it in ggplot
ggplot() +
geom_point(data=foo.dat,aes(x=x,y=y,colour=group),size=4) +
facet_wrap(~group) +
theme_bw()
ggplot() +
geom_point(data=foo.dat,aes(x=x,y=y,colour=group),size=4) +
facet_wrap(~group,scales="free_y") +
theme_bw()
set.seed(20140824)
library(ggplot2)
# First make up some data with different values for y with different scales
foo.dat<-rbind(data.frame(group="A", x = runif(50,mean=5), y=rnorm(50)),
data.frame(group="B", x = runif(50), y=rnorm(50,mean=5)*10),
data.frame(group="C", x = runif(50), y=rnorm(50,mean=5)*15))
## Plot it in ggplot
ggplot() +
geom_point(data=foo.dat,aes(x=x,y=y,colour=group),size=4) +
facet_wrap(~group,scales="free_y") +
theme_bw()
set.seed(20140824)
blank_data<-data.frame(group=c("A","A","B","B","C","C"), x=0,y=c(3,-3,80,-30,150,0))
ggplot() +
geom_point(data=foo.dat,aes(x=x,y=y,colour=group),size=4) +
geom_blank(data=blank_data,aes(x=x,y=y))+
facet_wrap(~group,scales="free_y") +
theme_bw()
foo.dat<-rbind(data.frame(group="A", x = runif(50), y=rnorm(50,mean=5)+3),
data.frame(group="B", x = runif(50), y=rnorm(50,mean=5)*10),
data.frame(group="C", x = runif(50), y=rnorm(50,mean=5)*15))
ggplot() +
geom_point(data=foo.dat,aes(x=x,y=y,colour=group),size=4) +
facet_wrap(~group,scales="free_y") +
theme_bw()
ggplot() +
geom_point(data=foo.dat,aes(x=x,y=y,colour=group),size=4) +
facet_wrap(~group,scales="free_y") +
expand_limits(y = 0) +
theme_bw()
foo.dat<-rbind(data.frame(group="A", x = runif(50), y=rnorm(50,mean=5)),
data.frame(group="B", x = runif(50), y=rnorm(50,mean=5)*10),
data.frame(group="C", x = runif(50), y=rnorm(50,mean=5)*15))
## Plot it in ggplot
ggplot() +
geom_point(data=foo.dat,aes(x=x,y=y,colour=group),size=4) +
facet_wrap(~group,scales="free_y") +
expand_limits(y = 0) +
theme_bw()
foo.dat<-rbind(data.frame(group="A", x = runif(50), y=rnorm(50,mean=5)),
data.frame(group="B", x = runif(50), y=rnorm(50,mean=5)+20),
data.frame(group="C", x = runif(50), y=rnorm(50,mean=5)+30))
## Plot it in ggplot
ggplot() +
geom_point(data=foo.dat,aes(x=x,y=y,colour=group),size=4) +
facet_wrap(~group,scales="free_y") +
expand_limits(y = 0) +
theme_bw()
foo.dat<-rbind(data.frame(group="A", x = runif(50), y=rnorm(50,mean=5)),
data.frame(group="B", x = runif(50), y=rnorm(50,mean=5,sd=3)+20),
data.frame(group="C", x = runif(50), y=rnorm(50,mean=5,sd=5)+30))
## Plot it in ggplot
ggplot() +
geom_point(data=foo.dat,aes(x=x,y=y,colour=group),size=4) +
facet_wrap(~group,scales="free_y") +
expand_limits(y = 0) +
theme_bw()
ggplot() +
geom_point(data=foo.dat,aes(x=x,y=y,colour=group),size=4) +
facet_wrap(~group,scales="free_y") +
expand_limits(y = 0) +
scale_y_continuous(expand=c(0,0)) +
theme_bw()
set.seed(20140824)
library(ggplot2)
# First make up some data with different values for y with different scales
foo.dat<-rbind(data.frame(group="A", x = runif(50), y=rnorm(50,mean=5)),
data.frame(group="B", x = runif(50), y=rnorm(50,mean=5,sd=3)+20),
data.frame(group="C", x = runif(50), y=rnorm(50,mean=5,sd=5)+30))
## Plot it in ggplot
ggplot() +
geom_point(data=foo.dat,aes(x=x,y=y,colour=group),size=4) +
facet_wrap(~group,scales="free_y") +
expand_limits(y = 0) +
scale_y_continuous(expand=c(0,0)) +
theme_bw()
ggplot() +
geom_point(data=foo.dat,aes(x=x,y=y,colour=group),size=4) +
facet_wrap(~group,scales="free_y") +
coord_cartesian(ylim=c(0,50)) +
theme_bw()
ggplot() +
geom_point(data=foo.dat,aes(x=x,y=y,colour=group),size=4) +
facet_wrap(~group,scales="free_y") +
expand_limits(y = 0) +
scale_y_continuous(expand=c(0,0)) +
theme_bw()
```
ggplot() +
geom_point(data=foo.dat,aes(x=x,y=y,colour=group),size=4) +
facet_wrap(~group,scales="free_y") +
expand_limits(y = 0) +
scale_y_continuous(expand=c(0,0)) +
theme_bw()
blank_data<-data.frame(group=c("A","A","B","B","C","C"), x=0,y=c(0,8,0,40,0,50))
blank_data$group<-as.factor(blank_data$group)
## Plot it in ggplot
ggplot() +
geom_point(data=foo.dat,aes(x=x,y=y,colour=group),size=4) +
geom_blank(data=blank_data,aes(x=x,y=y))+
facet_wrap(~group,scales="free_y") +
expand_limits(y = 0) +
scale_y_continuous(expand=c(0,0)) +
theme_bw()
blank_data<-data.frame(group=c("A","A","B","B","C","C"), x=0,y=c(0,8,0,40,0,50))
blank_data$group<-as.factor(blank_data$group)
## Plot it in ggplot
ggplot() +
geom_point(data=foo.dat,aes(x=x,y=y,colour=group),size=4) +
geom_blank(data=blank_data,aes(x=x,y=y))+
facet_wrap(~group,scales="free_y") +
expand_limits(y = 0) +
scale_y_continuous(expand=c(0,0)) +
theme_bw()
blank_data<-data.frame(group=c("A","A","B","B","C","C"), x=0,y=c(0,8,0,40,0,50))
foo.dat$group<-as.factor(foo.dat$group)
## Plot it in ggplot
ggplot() +
geom_point(data=foo.dat,aes(x=x,y=y,colour=group),size=4) +
geom_blank(data=blank_data,aes(x=x,y=y))+
facet_wrap(~group,scales="free_y") +
expand_limits(y = 0) +
scale_y_continuous(expand=c(0,0)) +
theme_bw()
KnitPost <- function(input, base.url = "/") {
require(knitr)
opts_knit$set(base.url = base.url)
fig.path <- paste0("figs/", sub(".Rmd$", "", basename(input)), "/")
opts_chunk$set(fig.path = fig.path)
opts_chunk$set(fig.cap = "center")
render_jekyll()
knit(input, envir = parent.frame())
}
setwd("C:/Users/cchizinski2/chrischizinski.github.com/Rmd/")
KnitPost("2014-08-24-using_geom_blank.Rmd")
